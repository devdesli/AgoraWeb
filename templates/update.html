{% extends 'base.html' %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/uploadtoforum.css') }}">
<link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
{% endblock %}

{% block body %}
<div class="top-color">
    <button class="forum-button"><a href="/forum">Ga terug naar het forum</a></button>
    <h1>Update je challenge</h1>
</div>

<div class="forum">
    <form action="{{ url_for('update', id=task.id) }}" method="POST" enctype="multipart/form-data">
        <!-- Naam -->
        <label><h3 class="authorText">Naam</h3></label>
        <textarea name="name" required maxlength="20">{{ task.name }}</textarea>

        <!-- Titel -->
        <label><h3 class="titleText">Titel</h3></label>
        <textarea name="title" required maxlength="30">{{ task.title }}</textarea>

        <!-- Hoofdvraag -->
        <label><h3>Hoofdvraag</h3></label>
        <textarea name="mainQuestion" required maxlength="60">{{ task.main_question }}</textarea>

        <!-- Deelvragen -->
        <label><h3>Deelvragen</h3></label>
        <textarea name="subQuestions" required maxlength="150">{{ task.sub_questions }}</textarea>

        <!-- Beschrijving -->
        <label><h3>Informatie</h3></label>
        <textarea name="description" required maxlength="100">{{ task.description }}</textarea>

        <!-- Eindproduct -->
        <label><h3>Eindproduct</h3></label>
        <textarea name="endProduct" required>{{ task.end_product }}</textarea>

        <!-- Categorie -->
        <label><h3>Categorie</h3></label>
        <select name="categorie" required>
            {% for category in categories %}
                <option value="{{ category }}" {% if task.category == category %}selected{% endif %}>
                    {{ category }}
                </option>
            {% endfor %}
        </select>

        <!-- Image Upload -->
        <h3>Huidige afbeelding</h3>
        {% if task.image %}
            <img src="{{ url_for('static', filename='uploads/' + task.image) }}" style="max-width: 300px;">
        {% else %}
            <p>Geen afbeelding</p>
        {% endif %}

        <h3>Upload nieuwe afbeelding</h3>
        <input type="file" name="image" accept="image/*">

        <button class="submit" type="submit">Update challenge</button>
    </form>
</div>
{% endblock %}
